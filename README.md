# webQuizEngine
<!-- #######  YAY, I AM THE SOURCE EDITOR! #########-->
<h1 style="text-align: left;"># webQuizEngine<br /><strong>WebQuizEngine</strong></h1>
<p><br />In this project I've developed a multi-user web service for creating and solving quizzes using REST API, embedded database, security and other technologies. Here I have concentrated on the server side ("engine") with no user interface at all. For testing you can use Postman, browser etc.<br />Details of the stages of the project can be found here.<br />You can find main method in WebQuizEngine.java and REST-controller in QuizRController.java. Other classes have self-explanatory names.</p>
<h1>User capabilities:</h1>
<p><br />Register a new user</p>
<p><br />When sending any requests, you must use Basic authorization. Therefore, you should start by registering a user.To register a new user, the client needs to send a JSON with email and password via POST request to /api/register:</p>
<blockquote>
<p>{<br />"email": "test@gmail.com",<br />"password": "secret"<br />}<br />The service returns 200 (OK) status code if the registration has been completed successfully. If the email is already taken by another user, the service will return the 400 (Bad request) status code.<br />Here are some additional restrictions to the format of user credentials:</p>
</blockquote>
<p>the email must have a valid format (with @ and .);<br />the password must have at least five characters.<br />If any of them is not satisfied, the service will also return the 400 (Bad request) status code.</p>
<h2><br />Create a new quiz</h2>
<p><br />To create a new quiz, the client needs to send a JSON as the request's body via POST to /api/quizzes. The JSON should contain the four fields: title (a string), text (a string), options (an array of strings) and answer (integer index of the correct option).<br />Example of request body:</p>
<blockquote>
<p>{<br />"title": "The Java Logo",<br />"text": "What is depicted on the Java logo?",<br />"options": ["Robot","Tea leaf","Cup of coffee","Bug"],<br />"answer": 2<br />}<br />The answer equals 2 corresponds to the third item from the options array ("Cup of coffee"). The server response is a JSON with four fields: id, title, text and options. Here is an example.</p>
<p>{<br />"id": 1,<br />"title": "The Java Logo",<br />"text": "What is depicted on the Java logo?",<br />"options": ["Robot","Tea leaf","Cup of coffee","Bug"]<br />}<br />Here is another example:</p>
<p>{<br />"title": "Coffee drinks",<br />"text": "Select only coffee drinks.",<br />"options": ["Americano","Tea","Cappuccino","Sprite"],<br />"answer": [0,2]<br />}<br />The answer equals [0,2] corresponds to the first and the third item from the options array. If the request JSON does not contain title or text, or they are empty strings, then the server responds with the 400 (Bad request) status code. If the number of options in the quiz is less than 2, the server returns the same status code. All new quizzes will be permanently stored in a database.</p>
</blockquote>
<h2>Get a quiz by id</h2>
<p><br />To get a quiz by id, the client sends the GET request to /api/quizzes/{id}.<br />Here is a response example:</p>
<blockquote>
<p>{<br />"id": 1,<br />"title": "The Java Logo",<br />"text": "What is depicted on the Java logo?",<br />"options": ["Robot","Tea leaf","Cup of coffee","Bug"]<br />}<br />If the user is not authorized, the status code is 401 (Unauthorized).</p>
</blockquote>
<h2>Solve the quiz</h2>
<p><br />To solve the quiz, the client sends a POST request to /api/quizzes/{id}/solve and passes the answer parameter in the content. This parameter is the index of a chosen option from options array. As before, it starts from zero. The service returns a JSON with two fields: success (true or false) and feedback (just a string). There are three possible responses. It is also possible to send an empty array [] since some quizzes may not have correct options.<br />If the passed answer is correct (e.g., POST to /api/quizzes/1/solve with content answer=2):<br />{"success":true,"feedback":"Congratulations, you're right!"}<br />If the answer is incorrect (e.g., POST to /api/quizzes/1/solve with content answer=1):<br />{"success":false,"feedback":"Wrong answer! Please, try again."}<br />If the specified quiz does not exist, the server returns the 404 (Not found) status code.</p>
<h2>Delete the quiz</h2>
<p><br />A user can delete their quiz by sending the DELETE request to /api/quizzes/{id}.<br />If the user is not authorized, the status code is 401 (Unauthorized).<br />If the operation was successful, the service returns the 204 (No content) status code without any content.<br />If the specified quiz does not exist, the server returns 404 (Not found).<br />If the specified user is not the author of this quiz, the response is the 403 (Forbidden) status code.</p>
<h2>Get all existing quizzes</h2>
<p><br />To get all existing quizzes in the service, the client sends the GET request to /api/quizzes. The response contains a JSON with quizzes (inside content) and some additional metadata:</p>
<blockquote>
<p>{<br />"totalPages":1,<br />"totalElements":3,<br />"last":true,<br />"first":true,<br />"sort":{ },<br />"number":0,<br />"numberOfElements":3,<br />"size":10,<br />"empty":false,<br />"pageable": { },<br />"content":[<br />{"id":102,"title":"Test 1","text":"Text 1","options":["a","b","c"]},<br />{"id":103,"title":"Test 2","text":"Text 2","options":["a", "b", "c", "d"]},<br />{"id":202,"title":"The Java Logo","text":"What is depicted on the Java logo?",<br />"options":["Robot","Tea leaf","Cup of coffee","Bug"]}<br />]<br />}<br />In this regard, the API returns only 10 quizzes at once and supports the ability to specify which portion of quizzes is needed. I've simplified JSON a bit here, but in the API it is in the same format it is generated by the framework. The API should supports the navigation through pages by passing the page parameter ( /api/quizzes?page=1). The first page is 0 since pages start from zero, just like our quizzes. If there are no quizzes, content is empty []. If the user is authorized, the status code is 200 (OK), otherwise, it's 401 (Unauthorized).</p>
</blockquote>
<p>Get completions of quizzes<br />The service provides ability for getting all completions of quizzes for a specified user by sending the GET request to /api/quizzes/completed together with the user auth data. All the completions should be sorted from the most recent to the oldest. A response is separated by pages. It contains a JSON with quizzes (inside content) and some additional metadata as in the previous operation. Here is a response example:</p>
<p>{<br />"totalPages":1,<br />"totalElements":5,<br />"last":true,<br />"first":true,<br />"empty":false,<br />"content":[<br />{"id":103,"completedAt":"2019-10-29T21:13:53.779542"},<br />{"id":102,"completedAt":"2019-10-29T21:13:52.324993"},<br />{"id":101,"completedAt":"2019-10-29T18:59:58.387267"},<br />{"id":101,"completedAt":"2019-10-29T18:59:55.303268"},<br />{"id":202,"completedAt":"2019-10-29T18:59:54.033801"}<br />]<br />}<br />Since it is allowed to solve a quiz multiple times, the response may contain duplicate quizzes, but with the different completion date. I removed some metadata keys from the response to keep it comprehensible. If there are no quizzes, content is empty []. If the user is authorized, the status code is 200 (OK); otherwise, it's 401 (Unauthorized).</p>
<p><strong>&nbsp;</strong></p>
